### 테스트 더블 
- 테스트에서 실제 객체를 대체하여 사용하는 객체
  - 종류
    - Stub
      - 특정한 값을 반환하도록 하여 테스트의 제어를 돕는 객체
      - 특정한 상태(외부 요인에 영향 받지 않는)나 조건을 테스트
        - PaymentService에 외부 라이브러리를 테스트에서 사용하지 않고 고정 환율을 가져오는 ```ExRateProviderStub```
        - 데이터베이스 호출 대신 미리 정의된 데이터를 반환하는 객체
      - 사용 시나리오
        - 외부 시스템에 작동에 의존하지 않고 상호작용을 단순화하고 싶을 때
        - 데이터베이스 쿼리, 네트워크 호출 등을 미리 정의된 결과로 대체해서 테스트 하고 싶을 때
    - Mock
      - 테스트하려는 클래스를 Mock(가짜 객체)로 만들고 메서드 호출 여부를 확인하는데 사용
      - 특정 메서드가 호출되었는지, 몇번 호출되었는지 확인
      - 실제 메서드를 호출하는게 아니라 메서드 호출에 대해 설정된 기댓값을 반환
      - 사용 시나리오
        - 메서드 호출 여부와 횟수를 검증하고 싶을 때
        - 상호 작용을 검증하고 싶을 때, 
          - 서비스의 메서드를 호출했을 때, 레파지토리의 메서드가 호출되는가?
    - Fake
      - 동작을 모방하는 객체지만 간단하게 구현되어 있음
        - H2 데이터베이스로 실제 데이버베이스와 같은 방식으로 동작하지만 메모리 내에서 작동하고 테스트가 끝나면 지워짐
          - ```@DataJpaTest```
        - 사용 시나리오
          - 실제 동작을 테스트하는데 모방 객체가 필요할 때,
            - 데이터베이스에서 테스트 데이터가 실제 DB에 들어가지 않게 할 때
    - Spy
      - 실제 객체를 감싸고 호출된 메서드와 호출 결과를 기록
      - 실제 객체를 감싸기 때문에 원본 객체의 동작을 유지하면서 특정 메서드의 호출을 추적하고 호출 여부와 결과를 기록
      - 스파이가 실제 객체의 동작을 기록한다는 의미
      - 사용 시나리오
        - 실제 객체의 동작을 유지하면서 검증해야할 때,
          - 메서드 호출에 대한 상태 변경을 체크
    

